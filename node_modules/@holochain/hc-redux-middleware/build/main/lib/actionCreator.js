"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const typesafe_actions_1 = require("typesafe-actions");
/**
 *
 * Function that creates action creators for holochain calls
 * The actions it creates are thunks rather than traditional actions
 * so the redux-thunk middleware must be applied.
 *
 */
exports.createHolochainAsyncAction = (...segments) => {
    const callString = segments.length === 1 ? segments[0] : segments.join('/');
    const action = typesafe_actions_1.createAsyncAction(callString, callString + '_SUCCESS', callString + '_FAILURE')();
    const newAction = action;
    // the action creators that are produced
    newAction.create = (params) => {
        return {
            type: callString,
            meta: {
                holochainAction: true,
                callString
            },
            payload: params
        };
    };
    return newAction;
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uQ3JlYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvYWN0aW9uQ3JlYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVEQUFvRDtBQUVwRDs7Ozs7O0dBTUc7QUFDVSxRQUFBLDBCQUEwQixHQUFHLENBQ3hDLEdBQUcsUUFBdUIsRUFDMUIsRUFBRTtJQUVGLE1BQU0sVUFBVSxHQUFHLFFBQVEsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7SUFFM0UsTUFBTSxNQUFNLEdBQUcsb0NBQWlCLENBQzlCLFVBQVUsRUFDVixVQUFVLEdBQUcsVUFBVSxFQUN2QixVQUFVLEdBQUcsVUFBVSxDQUFDLEVBQ00sQ0FBQTtJQUVoQyxNQUFNLFNBQVMsR0FBRyxNQUdoQixDQUFBO0lBRUYsd0NBQXdDO0lBQ3hDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxNQUFpQixFQUFFLEVBQUU7UUFDdkMsT0FBTztZQUNMLElBQUksRUFBRSxVQUFVO1lBQ2hCLElBQUksRUFBRTtnQkFDSixlQUFlLEVBQUUsSUFBSTtnQkFDckIsVUFBVTthQUNYO1lBQ0QsT0FBTyxFQUFFLE1BQU07U0FDaEIsQ0FBQTtJQUNILENBQUMsQ0FBQTtJQUVELE9BQU8sU0FBUyxDQUFBO0FBQ2xCLENBQUMsQ0FBQSJ9